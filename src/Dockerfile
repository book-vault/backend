FROM node:18

ARG MYSQL_USER
ARG MYSQL_PORT
ARG MYSQL_DATABASE
ARG DATABASE_ENDPOINT
ARG MYSQL_PASSWORD

ENV MYSQL_USER=${MYSQL_USER}
ENV MYSQL_PORT=${MYSQL_PORT}
ENV MYSQL_DATABASE=${MYSQL_DATABASE}
ENV DATABASE_ENDPOINT=${DATABASE_ENDPOINT}
ENV MYSQL_PASSWORD=${MYSQL_PASSWORD}

WORKDIR /app

COPY . .

RUN npm install

EXPOSE 3000

CMD ["node", "app.js"]
